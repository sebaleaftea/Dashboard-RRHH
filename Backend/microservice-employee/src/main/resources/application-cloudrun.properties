# Configuración para Cloud Run con Cloud SQL Socket Factory
spring.application.name=microservice-employee

# Puerto requerido por Cloud Run
server.port=8080

# Database - Cloud SQL Socket Factory (sin proxy)
spring.datasource.url=jdbc:postgresql:///${DB_NAME}?cloudSqlInstance=${CLOUD_SQL_INSTANCE}&socketFactory=com.google.cloud.sql.postgres.SocketFactory
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Flyway (desactivado en Cloud Run - la BD ya está migrada)
spring.flyway.enabled=false

# Eureka (desactivado en Cloud Run)
eureka.client.enabled=false

# Actuator para health checks
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# CORS - permitir peticiones desde frontend
cors.allowed-origins=http://localhost:5173,http://localhost:5174,https://*.run.app
